<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Laundry</title>
    <style>
        
    </style>
        <script src="http://code.jquery.com/jquery-2.1.4.js"></script>
        <script type="text/javascript">
          $(document).ready(function(){
            $("#berat").keyup(function(){ 
              var berat3  = parseInt($("#berat").val());
              var harga3 = berat3 * 5000;
              $("#harga").val(harga3); 
            }); 
          }); 
        </script> 
        <script type="text/javascript">
          $(document).ready(function(){
            $("#berat").keyup(function(){ 
              var berat2 = parseInt($("#berat").val());
              var harga2 = parseInt($("#harga").val())
              var diskon2 
              if (berat2>15) {
                diskon2 = 10
              }else{
                diskon2 = 0
              }
              ;
              $("#diskon").val(diskon2); 
            }); 
          }); 
        </script> 
        <script type="text/javascript">
          $(document).ready(function(){
            $("#berat").keyup(function(){ 
              var hargaa  = parseInt($("#harga").val());
              var diskonn  = parseInt($("#diskon").val());
              var totall = hargaa - (hargaa*(diskonn/100));
              $("#total").val(totall); 
            }); 
          }); 
        </script> 
  </head>
  <body>
        <div class="p-3 mb-3 bg-secondary text-white shadow-sm">
          <h5 class="display-4" style="text-align: center; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">Laundry</h5>
        </div>
        <div class="shadow-sm p-3 mb-5 bg-light rounded" style="float: left; margin-left: 30px; width: 745px;">
                <div class="form-group row ">
                    <label for="pembelii" class="col-sm-2 col-form-label">Pembeli</label>
                    <div class="col-sm-4">
                      <input type="text" class="form-control" id="pembeli" placeholder="Masukkan Nama" style="width: 350px;">
                    </div>
                </div>
                <div class="form-group row ">
                    <label for="tanggall" class="col-sm-2 col-form-label">Tanggal</label>
                    <div class="col-sm-4">
                      <input type="date" class="form-control" id="tanggal" style="width: 350px;">
                    </div>
                </div>
                <div class="form-group row ">
                    <label for="berat" class="col-sm-2 col-form-label">Berat (kg)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="berat" placeholder="Masukkan Berat" style="width: 350px;">
                    </div>
                </div>
                <form name="hitung diskon" method="POST">
                <div class="form-group row ">
                    <label for="hargaa" class="col-sm-2 col-form-label">Harga (Rp.)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="harga" name="harga" placeholder="Masukkan Harga" style="width: 350px;">
                    </div>
                </div>
                <div class="form-group row ">
                    <label for="diskonn" class="col-sm-2 col-form-label">Diskon (%)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="diskon" name="diskon" placeholder="Masukkan Diskon" style="width: 350px;">
                    </div>
                </div>
                
                <div class="form-group row mt-3">
                    <label for="totall" class="col-sm-2 col-form-label">Total</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="total" name="total" placeholder="Total" style="width: 350px;">
                    </div>
                </div>
                </form>
                <button type="button" class="btn btn-secondary" style="margin-left: 125px; margin-top: 20px;" onclick="add()">Simpan</button>
        </div>
        <div class="shadow-sm p-3 mb-5 bg-light rounded" style="float: right; margin-right: 30px; width: 745px;">
            <center>
                <strong>Harga</strong>
                <br><br>
                <p>5000/kg</p>
                <hr>
                <p>Setiap Laundry berat diatas 15kg, maka akan mendapatkan diskon sebesar 10%</p>
            </center>
        </div>

        
            <table class="table table-sm rounded shadow-sm" style="width: 750px; float: right; margin-right: 30px; text-align: center;">
                <thead>
                  <tr class="bg-dark text-white">
                    <th scope="col">No</th>
                    <th scope="col">Pembeli</th>
                    <th scope="col">Tanggal</th>
                    <th scope="col">Berat (kg)</th>
                    <th scope="col">Harga (Rp.)</th>
                    <th scope="col">Diskon (%)</th>
                    <th scope="col">Total</th>
                    <th scope="col">Modify</th>
                  </tr>
                </thead>
                <tbody id="tampildata">
                 
                </tbody>
              </table>

    <script>
       var pembeli = []
       var tanggal = []
       var berat = []
       var harga = []
       var diskon = []
       var total = []

       var tampil = document.getElementById('tampildata')

          function showData() {
            tampil.innerHTML = ""

            for(i = 0;i<pembeli.length;i++){
              var nodata = i+1

              

                

              tampil.innerHTML += "<tr>"+
                "<th>"+nodata+"</th>"+
                "<td>"+pembeli[i]+"</td>"+
                "<td>"+tanggal[i]+"</td>"+
                "<td>"+berat[i]+"</td>"+
                "<td>"+harga[i]+"</td>"+
                "<td>"+diskon[i]+"</td>"+
                "<td>"+total[i]+"</td>"+
                "<td>"+
                  "<button class='btn btn-transparent shadow-sm' href='#' onclick='hapus("+i+")' type='button'>Delete</button>"+
                "</td>"+
              "</tr>"
            }
          }
          showData()

          function add() {
              var pembelibaru = document.getElementById('pembeli').value
              var tanggalbaru = document.getElementById('tanggal').value
              var beratbaru = document.getElementById('berat').value
              var hargabaru = document.getElementById('harga').value
              var diskonbaru = document.getElementById('diskon').value
              var totalbaru = document.getElementById('total').value

              pembeli.push(pembelibaru)
              tanggal.push(tanggalbaru)
              berat.push(beratbaru)
              harga.push(hargabaru)
              diskon.push(diskonbaru)
              total.push(totalbaru)

              showData()

          }

          function hapus(drop) {
              var pembelihapus = pembeli.splice(drop,1);
              var tanggalhapus = tanggal.splice(drop,1);
              var berathapus = berat.splice(drop,1);
              var hargahapus = harga.splice(drop,1);
              var diskonhapus = diskon.splice(drop,1);
              var totalhapus = total.splice(drop,1);

              showData()

          }



    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </body>
</html>