<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Laundry</title>
    <style>
        
    </style>
        <script src="http://code.jquery.com/jquery-2.1.4.js"></script>
        <script type="text/javascript">
          $(document).ready(function(){

            //Untuk mengkalikan harga dengan berat
            $("#berat").keyup(function(){ 
              var berat3  = parseInt($("#berat").val());
              var harga3 = berat3 * 6000;
              $("#harga").val(harga3); 
            }); 
         
            //Untuk patokan diskon
            $("#berat").keyup(function(){ 
              var berat2 = parseInt($("#berat").val());
              var harga2 = parseInt($("#harga").val())
              var diskon2 
              if (berat2>0,berat2<20) {
                diskon2 = 0
              }
              else if (berat2>=20,berat2<50) {
                diskon2 = 10
              }
              else if(berat2>=50,berat2<100){
                diskon2 = 20
              }
              else if(berat2>=100,berat2<1000){
                diskon2 = 30
              }
              else{
                diskon2 = 35
              }
              ;
              $("#diskon").val(diskon2); 
            });  

            //Untuk menghitung total harga
            $("#berat").keyup(function(){ 
              var hargaa  = parseInt($("#harga").val());
              var diskonn  = parseInt($("#diskon").val());
              var totall = hargaa - (hargaa*(diskonn/100));
              $("#total").val(totall); 




               //Untuk mengkalikan harga dengan berat(Update)
            $("#mberat").keyup(function(){ 
              var berat3m  = parseInt($("#mberat").val());
              var harga3m = berat3m * 6000;
              $("#mharga").val(harga3m); 
            }); 
         
            //Untuk patokan diskon(Update)
            $("#mberat").keyup(function(){ 
              var berat2m = parseInt($("#mberat").val());
              var harga2m = parseInt($("#mharga").val())
              var diskon2m 
              if (berat2m>0,berat2m<20) {
                diskon2m = 0
              }
              else if (berat2m>=20,berat2m<50) {
                diskon2m = 10
              }
              else if(berat2m>=50,berat2m<100){
                diskon2m = 20
              }
              else if(berat2m>=100,berat2m<1000){
                diskon2m = 30
              }
              else{
                diskon2m = 35
              }
              ;
              $("#mdiskon").val(diskon2m); 
            });  

            //Untuk menghitung total harga(Update)
            $("#mberat").keyup(function(){ 
              var hargaam  = parseInt($("#mharga").val());
              var diskonnm  = parseInt($("#mdiskon").val());
              var totallm = hargaam - (hargaam*(diskonnm/100));
              $("#mtotal").val(totallm); 
            }); 
            }); 
          }); 
        </script> 
  </head>
  <body>

    <!--Navbar-->
    <nav class="navbar mb-5 shadow" style="background-color: black; color: white; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">
      <img src="gambar/laundry.png" style="width: 150px; margin-left: 45%;" alt="Gambar">
    </nav>

        <!--Card Laundry-->
        <div class="container card bg-transparant mb-3 shadow" style="width: 675px; margin-left: 30px; float: left;">
          <div class="card-header text-white" style="text-align: center; background-color: black; font-family: fantasy;"><h3>Laundry</h3></div>
          <div class="card-body">
            <center><strong>Tarif Rp. 6000/kg</strong></center><hr>
            <center><strong>Menerima Laundry:</strong></center>
            <div class="card-group shadow-sm">
              <div class="card rounded" style="margin-right: 30px; margin-top: 20px; width: 30%; height: 200;">
                <img src="gambar/pakaian.jpg" height="150px" class="card-img-top" alt="Gambar">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center;">Pakaian</h5>
                </div>
              </div>
              <div class="card rounded" style="margin-top: 20px; width: 30%; height: 200;">
                <img src="gambar/selimut.jpg" height="150px" class="card-img-top" alt="Gambar">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center;">Selimut</h5>
                </div>
              </div>
              <div class="card rounded" style="margin-left: 30px; margin-top: 20px; width: 30%; height: 200;">
                <img src="gambar/bedcover.jpg" height="150px"  class="card-img-top" alt="Gambar">
                <div class="card-body">
                  <h5 class="card-title" style="text-align: center;">Bed Cover</h5>
                </div>
              </div>
            </div>
            <hr>
            <center>
              <strong>Ketentuan</strong>
            </center>
              <ul>
                <li>20 s/d 49kg mendapatkan diskon 10% </li>
                <li>50 s/d 99kg mendapatkan diskon 20%</li>
                <li>100 s/d 999kg mendapatkan diskon 30%</li>
                <li>1000kg keatas mendapatkan diskon 35%</li>
              </ul>
            
          </div>
        </div>

        <!--Table-->
        <h3 style="font-family: fantasy; text-align: right; margin-right: 400px;">Output</h3>
        <table class="table table-sm rounded shadow rounded" style=" width: 820px; float: right; margin-right: 30px; text-align: center;">
          <thead>
            <tr style="background-color: black; color: white;">
              <th scope="col">No</th>
              <th scope="col">Pembeli</th>
              <th scope="col">Tanggal</th>
              <th scope="col">Layanan</th>
              <th scope="col">Berat (kg)</th>
              <th scope="col">Harga (Rp.)</th>
              <th scope="col">Diskon (%)</th>
              <th scope="col">Total</th>
              <th scope="col">Modify</th>
            </tr>
          </thead>
          <tbody id="tampildata">
          
          </tbody>
        </table>
        
        <!--Form-->
        <div class="card bg-transparant mb-3 shadow" style="width: 675px; margin: 600px 0 0 30px;">
          <div class="card-header text-white" style="text-align: center; background-color: black; font-family: fantasy;"><h3>Input</h3></div>
          <div class="card-body">
            <div class="form-group row ">
              <label for="pembelii" class="col-sm-2 col-form-label">Pembeli</label>
              <div class="col-sm-4">
                <input type="text" class="form-control" id="pembeli" placeholder="Masukkan Nama" style="width: 350px;">
              </div>
            </div>
            <div class="form-group row ">
              <label for="tanggall" class="col-sm-2 col-form-label">Tanggal</label>
              <div class="col-sm-4">
                <input type="date" class="form-control" id="tanggal" style="width: 350px;">
              </div>
            </div>
            <div class="form-group row">
            <label for="layanann" class="col-sm-2 col-form-label">Layanan</label>
            <div class="col-sm-4">
            <select class="form-control" id="layanan" name="layanan" style="width: 350px;">
              <option selected>Pilih Layanan</option>
              <option value="Pakaian">Pakaian</option>
              <option value="Selimut">Selimut</option>
              <option value="Bed Cover">Bed Cover</option>
            </select>
            </div>
            </div>
            <div class="form-group row ">
              <label for="berat" class="col-sm-2 col-form-label">Berat (kg)</label>
              <div class="col-sm-4">
                <input type="number" class="form-control" id="berat" placeholder="Masukkan Berat" style="width: 350px;">
              </div>
            </div>
          <form name="hitung diskon" method="POST">
            <div class="form-group row ">
              <label for="hargaa" class="col-sm-2 col-form-label">Harga (Rp.)</label>
              <div class="col-sm-4">
                <input type="number" class="form-control" id="harga" name="harga" placeholder="Masukkan Harga" style="width: 350px;">
              </div>
            </div>
            <div class="form-group row ">
              <label for="diskonn" class="col-sm-2 col-form-label">Diskon (%)</label>
              <div class="col-sm-4">
                <input type="number" class="form-control" id="diskon" name="diskon" placeholder="Masukkan Diskon" style="width: 350px;">
              </div>
            </div>
          
            <div class="form-group row mt-3">
              <label for="totall" class="col-sm-2 col-form-label">Total</label>
              <div class="col-sm-4">
                <input type="number" class="form-control" id="total" name="total" placeholder="Total" style="width: 350px;">
              </div>
            </div>
          </form>
          <button type="button" class="btn text-white" style="margin-left: 355px; margin-top: 20px; background-color: black;" onclick="add()">Tambahkan</button>
          </div>
        </div>

        <!--Tabel Pembayaran-->
        <table class="table table-sm rounded shadow rounded" style="width: 1540px; text-align: center; margin-left: 30px;">
          <thead>
            <tr style="background-color: black; color: white;">
              <th scope="col">No</th>
              <th scope="col">Pembeli</th>
              <th scope="col">Tanggal</th>
              <th scope="col">Layanan</th>
              <th scope="col">Berat (kg)</th>
              <th scope="col">Harga (Rp.)</th>
              <th scope="col">Diskon (%)</th>
              <th scope="col">Total</th>
              <th scope="col">Dibayar</th>
              <th scope="col">Kembalian</th>
              <th scope="col">Modify</th>
            </tr>
          </thead>
          <tbody id="tampildata">
          
          </tbody>
        </table>

        <!--Untuk saat edit-->
        <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header text-white" style="background-color: black;">
                <h4 class="modal-title" id="exampleModalLabel">Masukkan data baru</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body rounded">
                  <div class="form-group row ">
                    <label for="mpembelii" class="col-sm-2 col-form-label">Pembeli</label>
                    <div class="col-sm-4">
                      <input type="text" class="form-control" id="mpembeli" placeholder="Masukkan Nama" style="width: 350px;">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label for="mtanggall" class="col-sm-2 col-form-label">Tanggal</label>
                    <div class="col-sm-4">
                      <input type="date" class="form-control" id="mtanggal" style="width: 350px;">
                    </div>
                  </div>
                  <div class="form-group row">
                  <label for="mlayanann" class="col-sm-2 col-form-label">Layanan</label>
                  <div class="col-sm-4">
                  <select class="form-control" id="mlayanan" name="mlayanan" style="width: 350px;">
                    <option selected>Pilih Layanan</option>
                    <option value="Pakaian">Pakaian</option>
                    <option value="Selimut">Selimut</option>
                    <option value="Bed Cover">Bed Cover</option>
                  </select>
                  </div>
                  </div>
                  <div class="form-group row ">
                    <label for="mberatt" class="col-sm-2 col-form-label">Berat (kg)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="mberat" placeholder="Masukkan Berat" style="width: 350px;">
                    </div>
                  </div>
                <form name="hitung diskon" method="POST">
                  <div class="form-group row ">
                    <label for="mhargaa" class="col-sm-2 col-form-label">Harga (Rp.)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="mharga" name="mharga" placeholder="Masukkan Harga" style="width: 350px;">
                    </div>
                  </div>
                  <div class="form-group row ">
                    <label for="mdiskonn" class="col-sm-2 col-form-label">Diskon (%)</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="mdiskon" name="mdiskon" placeholder="Masukkan Diskon" style="width: 350px;">
                    </div>
                  </div>
                
                  <div class="form-group row mt-3">
                    <label for="mtotall" class="col-sm-2 col-form-label">Total</label>
                    <div class="col-sm-4">
                      <input type="number" class="form-control" id="mtotal" name="mtotal" placeholder="Total" style="width: 350px;">
                    </div>
                  </div>
                </form>
                <div class="modal-footer">
                  <button type="button" class="btn btn-light shadow-sm" data-dismiss="modal">Kembali</button>
                  <button type="button" class="btn btn-light shadow-sm" onclick="saveData()" data-dismiss="modal">Ubah</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        </div>


    <script>
      //Data didalam tabel
       var pembeli = []
       var tanggal = []
       var layanan = []
       var berat = []
       var harga = []
       var diskon = []
       var total = []

       var tampil = document.getElementById('tampildata')

          //Menampilkan data
          function showData() {
            tampil.innerHTML = ""

            for(i = 0;i<pembeli.length;i++){
              var nodata = i+1

              tampil.innerHTML += "<tr>"+
                "<th>"+nodata+"</th>"+
                "<td>"+pembeli[i]+"</td>"+
                "<td>"+tanggal[i]+"</td>"+
                "<td>"+layanan[i]+"</td>"+
                "<td>"+berat[i]+"</td>"+
                "<td>"+harga[i]+"</td>"+
                "<td>"+diskon[i]+"</td>"+
                "<td>"+total[i]+"</td>"+
                "<td>"+
                  "<button class='btn btn-transparent shadow-sm' href='#' onclick='hapus("+i+")' type='button'>Delete</button>"+
                  "<button class='btn btn-tranparent shadow-sm' data-toggle='modal' data-target='#modal' onclick='update("+i+")' type='button'>Update</button>"+
                  "<button class='btn btn-tranparent shadow-sm' data-toggle='modal' data-target='#modal' onclick='' type='button'>Bayar</button>"+
                "</td>"+
              "</tr>"
            }
          }
          showData()

          //Menambahkan data baru
          function add() {
              var pembelibaru = document.getElementById('pembeli').value
              var tanggalbaru = document.getElementById('tanggal').value
              var layananbaru = document.getElementById('layanan').value
              var beratbaru = document.getElementById('berat').value
              var hargabaru = document.getElementById('harga').value
              var diskonbaru = document.getElementById('diskon').value
              var totalbaru = document.getElementById('total').value

              pembeli.push(pembelibaru)
              tanggal.push(tanggalbaru)
              layanan.push(layananbaru)
              berat.push(beratbaru)
              harga.push(hargabaru)
              diskon.push(diskonbaru)
              total.push(totalbaru)

              showData()

          }

          //Menghapus data 
          function hapus(drop) {
              var pembelihapus = pembeli.splice(drop,1);
              var tanggalhapus = tanggal.splice(drop,1);
              var layananhapus = layanan.splice(drop,1);
              var berathapus = berat.splice(drop,1);
              var hargahapus = harga.splice(drop,1);
              var diskonhapus = diskon.splice(drop,1);
              var totalhapus = total.splice(drop,1);

              showData()

          }
          var index = []

          function update(i) {
            document.getElementById('mpembeli').value = pembeli[i]
            document.getElementById('mtanggal').value = tanggal[i]
            document.getElementById('mlayanan').value = layanan[i]
            document.getElementById('mberat').value = berat[i]
            document.getElementById('mharga').value = harga[i]
            document.getElementById('mdiskon').value = diskon[i]
            document.getElementById('mtotal').value = total[i]


            index.push(i)
          }

          function saveData() {
            var simpanpembeli = document.getElementById('mpembeli').value
            var simpantanggal = document.getElementById('mtanggal').value
            var simpanlayanan = document.getElementById('mlayanan').value
            var simpanberat = document.getElementById('mberat').value
            var simpanharga = document.getElementById('mharga').value
            var simpandiskon = document.getElementById('mdiskon').value
            var simpantotal = document.getElementById('mtotal').value


            pembeli[index] = simpanpembeli
            tanggal[index] = simpantanggal
            layanan[index] = simpanlayanan
            berat[index] = simpanberat
            harga[index] = simpanharga
            diskon[index] = simpandiskon
            total[index] = simpantotal
            
            
            showData()
            index.pop()
          }



    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </body>
</html>